1. 订单与支付方式分离
2. 下单排队
3. 三方平台的订单号有可能重复，应先判断是否重复再进行下单操作
4. 下单即减库存，超时未支付，库存加回
5. 补单（手动补单）（自动补单）
6. 回调与补单重复导致冲突，要防止处理到同一订单
7. 支付宝，微信同时加库存问题，要错开时间
8. 金融数据类型用BigDecimal
9. 历史记录不得修该
10. 订单记录，一笔订单多条记录，记录每个操作，不可以覆盖操作记录。